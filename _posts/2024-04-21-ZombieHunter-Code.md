---
layout: posts
title: "ZombieHunter Code"
---


|   주차    |     활동내용   |          |
|---|---|---|
|     1    |     팀   결성 및 계획서작성, 역할 분담    |          |
|     2    |     최재영 -  포탑 기능에 대한 객체지향 설계    |          |
|     3    |     최재영 - 포탑 기능 개발 (포탑 장착, 포탑 설치)    |          |
|     4    |     최재영 - 포탑 기능 개발 (포탑 설치UI, 수리/설치 상태 제작)    |          |
|     5    |     최재영 - 포탑 적 기능 개발 (적 인식, 포탑 회전)    |          |
|     6    |     최재영 - 포탑 모델링 적용    |          |
|     7    |     최재영 - 포탑 각 부분 회전부분   자료조사    |          |

# 1주차 계획서 작성 및 역할 분담

# 2주차 포탑 기능에 대한 객체지향 설계

기능에 따라서 
- 플레이어 조작 기능(임시) : TempPlayerController.cs
- 터렛 설치 기능 : TurretController.cs
- 터렛 기능 : Turret.cs

로 구분하였습니다.

TempPlayerController.cs에서는 플레이어 파트와 합치기 전까지 사용할 기본적인 이동과 카메라 움직임을 임시로 사용할 수 있게 하였습니다. 
TurretController.cs에서는 플레이어가 터렛을 장착하고, 설치위치를 파악하여 활성화되지 않은 터렛을 설치하는 기능까지 설계 하였습니다.
Turret.cs는 터렛을 활성화 하는 기능, 수리기능, 적을 찾아 공격하는 기능, 피격 기능등 터렛에 필요한 기능을 설계하였습니다.

# 3주차 포탑 기능 개발 (포탑 장착, 포탑 설치)
![](/_img/tempTurret.png)
![](/_img/realTurret.png)

TurretController에서 비활성화된 포탑을 장착하고, 상호작용키에 할당된 키를 누르면 비활성화된 포탑을 배치하도록 작성하였습니다.


# 4주차 포탑 기능 개발 (포탑 설치UI, 수리/설치 상태 제작)
![](/_img/ActiveUI.png)

비활성화된 포탑 가까이 가면 포탑 설치 UI가 나타나고, 이때 상호작용 키을 1초동안 누르면 자원이 있는지 확인(이 부분은 합치고 추가될 예정)
하고 포탑이 활성화 됩니다. 이후에 hp가 0이 되면, 포탑이 "수리가 필요한 상태"가 되며, 이떄 수리 UI가 나타나 상호작용을 하면 수리가 되고
다시 활성화 상태가 됩니다.

# 5주차 포탑 적 기능 개발 (적 인식, 포탑 회전)

trigger된 enemy를 리스트에 저장하고, 리스트에서 가장 가까운 적을 인식합니다.
포탑의 파츠별로 회전하는 부분이 다르고, 회전이 완료되면 미니건 부분이 회전됩니다.

# 6주차 포탑 모델링 적용
![](/_img/TurretModel.png)

# 7주차 포탑 각 부분 회전부분 자료조사
![](/_img/Movie_001.gif)

전에 회전을 적용하였지만 부모-자식을 너무 많이 만들고, 각 모델링 파츠의 회전값들이 일정하지 않아서, 모델링 파츠에서 회전하는 부분에 따라
분리하였습니다.
- 포탑 몸체 
- 총 몸체
- 미니건

포탑 몸체, 총 몸체, 미니건은 y축 회전을 하며, 총 몸체 미니건은 x,y축 회전, 미니건은 z축회전을 하게됩니다.


# 코드(7주차 기준)

<script src="https://gist.github.com/ChoiMP/dadb2ca2990bde8fb7b344546eec46ee.js"></script>
